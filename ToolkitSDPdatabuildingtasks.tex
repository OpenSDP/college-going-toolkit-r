% SDP Data Building Tasks

\documentclass[12pt]{article}
\usepackage{graphicx, color}
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\definecolor{fgcolor}{rgb}{0.267, 0.267, 0.267}
\newcommand{\hlnumber}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlfunctioncall}[1]{\textcolor[rgb]{0.501960784313725,0,0.329411764705882}{\textbf{#1}}}%
\newcommand{\hlstring}[1]{\textcolor[rgb]{0.6,0.6,1}{#1}}%
\newcommand{\hlkeyword}[1]{\textcolor[rgb]{0,0,0}{\textbf{#1}}}%
\newcommand{\hlargument}[1]{\textcolor[rgb]{0.690196078431373,0.250980392156863,0.0196078431372549}{#1}}%
\newcommand{\hlcomment}[1]{\textcolor[rgb]{0.180392156862745,0.6,0.341176470588235}{#1}}%
\newcommand{\hlroxygencomment}[1]{\textcolor[rgb]{0.43921568627451,0.47843137254902,0.701960784313725}{#1}}%
\newcommand{\hlformalargs}[1]{\textcolor[rgb]{0.690196078431373,0.250980392156863,0.0196078431372549}{#1}}%
\newcommand{\hleqformalargs}[1]{\textcolor[rgb]{0.690196078431373,0.250980392156863,0.0196078431372549}{#1}}%
\newcommand{\hlassignement}[1]{\textcolor[rgb]{0,0,0}{\textbf{#1}}}%
\newcommand{\hlpackage}[1]{\textcolor[rgb]{0.588235294117647,0.709803921568627,0.145098039215686}{#1}}%
\newcommand{\hlslot}[1]{\textit{#1}}%
\newcommand{\hlsymbol}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlprompt}[1]{\textcolor[rgb]{0.266666666666667,0.266666666666667,0.266666666666667}{#1}}%

\usepackage{color}%
 
\newsavebox{\hlnormalsizeboxclosebrace}%
\newsavebox{\hlnormalsizeboxopenbrace}%
\newsavebox{\hlnormalsizeboxbackslash}%
\newsavebox{\hlnormalsizeboxlessthan}%
\newsavebox{\hlnormalsizeboxgreaterthan}%
\newsavebox{\hlnormalsizeboxdollar}%
\newsavebox{\hlnormalsizeboxunderscore}%
\newsavebox{\hlnormalsizeboxand}%
\newsavebox{\hlnormalsizeboxhash}%
\newsavebox{\hlnormalsizeboxat}%
\newsavebox{\hlnormalsizeboxpercent}% 
\newsavebox{\hlnormalsizeboxhat}%
\newsavebox{\hlnormalsizeboxsinglequote}%
\newsavebox{\hlnormalsizeboxbacktick}%

\setbox\hlnormalsizeboxopenbrace=\hbox{\begin{normalsize}\verb.{.\end{normalsize}}%
\setbox\hlnormalsizeboxclosebrace=\hbox{\begin{normalsize}\verb.}.\end{normalsize}}%
\setbox\hlnormalsizeboxlessthan=\hbox{\begin{normalsize}\verb.<.\end{normalsize}}%
\setbox\hlnormalsizeboxdollar=\hbox{\begin{normalsize}\verb.$.\end{normalsize}}%
\setbox\hlnormalsizeboxunderscore=\hbox{\begin{normalsize}\verb._.\end{normalsize}}%
\setbox\hlnormalsizeboxand=\hbox{\begin{normalsize}\verb.&.\end{normalsize}}%
\setbox\hlnormalsizeboxhash=\hbox{\begin{normalsize}\verb.#.\end{normalsize}}%
\setbox\hlnormalsizeboxat=\hbox{\begin{normalsize}\verb.@.\end{normalsize}}%
\setbox\hlnormalsizeboxbackslash=\hbox{\begin{normalsize}\verb.\.\end{normalsize}}%
\setbox\hlnormalsizeboxgreaterthan=\hbox{\begin{normalsize}\verb.>.\end{normalsize}}%
\setbox\hlnormalsizeboxpercent=\hbox{\begin{normalsize}\verb.%.\end{normalsize}}%
\setbox\hlnormalsizeboxhat=\hbox{\begin{normalsize}\verb.^.\end{normalsize}}%
\setbox\hlnormalsizeboxsinglequote=\hbox{\begin{normalsize}\verb.'.\end{normalsize}}%
\setbox\hlnormalsizeboxbacktick=\hbox{\begin{normalsize}\verb.`.\end{normalsize}}%
\setbox\hlnormalsizeboxhat=\hbox{\begin{normalsize}\verb.^.\end{normalsize}}%



\newsavebox{\hltinyboxclosebrace}%
\newsavebox{\hltinyboxopenbrace}%
\newsavebox{\hltinyboxbackslash}%
\newsavebox{\hltinyboxlessthan}%
\newsavebox{\hltinyboxgreaterthan}%
\newsavebox{\hltinyboxdollar}%
\newsavebox{\hltinyboxunderscore}%
\newsavebox{\hltinyboxand}%
\newsavebox{\hltinyboxhash}%
\newsavebox{\hltinyboxat}%
\newsavebox{\hltinyboxpercent}% 
\newsavebox{\hltinyboxhat}%
\newsavebox{\hltinyboxsinglequote}%
\newsavebox{\hltinyboxbacktick}%

\setbox\hltinyboxopenbrace=\hbox{\begin{tiny}\verb.{.\end{tiny}}%
\setbox\hltinyboxclosebrace=\hbox{\begin{tiny}\verb.}.\end{tiny}}%
\setbox\hltinyboxlessthan=\hbox{\begin{tiny}\verb.<.\end{tiny}}%
\setbox\hltinyboxdollar=\hbox{\begin{tiny}\verb.$.\end{tiny}}%
\setbox\hltinyboxunderscore=\hbox{\begin{tiny}\verb._.\end{tiny}}%
\setbox\hltinyboxand=\hbox{\begin{tiny}\verb.&.\end{tiny}}%
\setbox\hltinyboxhash=\hbox{\begin{tiny}\verb.#.\end{tiny}}%
\setbox\hltinyboxat=\hbox{\begin{tiny}\verb.@.\end{tiny}}%
\setbox\hltinyboxbackslash=\hbox{\begin{tiny}\verb.\.\end{tiny}}%
\setbox\hltinyboxgreaterthan=\hbox{\begin{tiny}\verb.>.\end{tiny}}%
\setbox\hltinyboxpercent=\hbox{\begin{tiny}\verb.%.\end{tiny}}%
\setbox\hltinyboxhat=\hbox{\begin{tiny}\verb.^.\end{tiny}}%
\setbox\hltinyboxsinglequote=\hbox{\begin{tiny}\verb.'.\end{tiny}}%
\setbox\hltinyboxbacktick=\hbox{\begin{tiny}\verb.`.\end{tiny}}%
\setbox\hltinyboxhat=\hbox{\begin{tiny}\verb.^.\end{tiny}}%



\newsavebox{\hlscriptsizeboxclosebrace}%
\newsavebox{\hlscriptsizeboxopenbrace}%
\newsavebox{\hlscriptsizeboxbackslash}%
\newsavebox{\hlscriptsizeboxlessthan}%
\newsavebox{\hlscriptsizeboxgreaterthan}%
\newsavebox{\hlscriptsizeboxdollar}%
\newsavebox{\hlscriptsizeboxunderscore}%
\newsavebox{\hlscriptsizeboxand}%
\newsavebox{\hlscriptsizeboxhash}%
\newsavebox{\hlscriptsizeboxat}%
\newsavebox{\hlscriptsizeboxpercent}% 
\newsavebox{\hlscriptsizeboxhat}%
\newsavebox{\hlscriptsizeboxsinglequote}%
\newsavebox{\hlscriptsizeboxbacktick}%

\setbox\hlscriptsizeboxopenbrace=\hbox{\begin{scriptsize}\verb.{.\end{scriptsize}}%
\setbox\hlscriptsizeboxclosebrace=\hbox{\begin{scriptsize}\verb.}.\end{scriptsize}}%
\setbox\hlscriptsizeboxlessthan=\hbox{\begin{scriptsize}\verb.<.\end{scriptsize}}%
\setbox\hlscriptsizeboxdollar=\hbox{\begin{scriptsize}\verb.$.\end{scriptsize}}%
\setbox\hlscriptsizeboxunderscore=\hbox{\begin{scriptsize}\verb._.\end{scriptsize}}%
\setbox\hlscriptsizeboxand=\hbox{\begin{scriptsize}\verb.&.\end{scriptsize}}%
\setbox\hlscriptsizeboxhash=\hbox{\begin{scriptsize}\verb.#.\end{scriptsize}}%
\setbox\hlscriptsizeboxat=\hbox{\begin{scriptsize}\verb.@.\end{scriptsize}}%
\setbox\hlscriptsizeboxbackslash=\hbox{\begin{scriptsize}\verb.\.\end{scriptsize}}%
\setbox\hlscriptsizeboxgreaterthan=\hbox{\begin{scriptsize}\verb.>.\end{scriptsize}}%
\setbox\hlscriptsizeboxpercent=\hbox{\begin{scriptsize}\verb.%.\end{scriptsize}}%
\setbox\hlscriptsizeboxhat=\hbox{\begin{scriptsize}\verb.^.\end{scriptsize}}%
\setbox\hlscriptsizeboxsinglequote=\hbox{\begin{scriptsize}\verb.'.\end{scriptsize}}%
\setbox\hlscriptsizeboxbacktick=\hbox{\begin{scriptsize}\verb.`.\end{scriptsize}}%
\setbox\hlscriptsizeboxhat=\hbox{\begin{scriptsize}\verb.^.\end{scriptsize}}%



\newsavebox{\hlfootnotesizeboxclosebrace}%
\newsavebox{\hlfootnotesizeboxopenbrace}%
\newsavebox{\hlfootnotesizeboxbackslash}%
\newsavebox{\hlfootnotesizeboxlessthan}%
\newsavebox{\hlfootnotesizeboxgreaterthan}%
\newsavebox{\hlfootnotesizeboxdollar}%
\newsavebox{\hlfootnotesizeboxunderscore}%
\newsavebox{\hlfootnotesizeboxand}%
\newsavebox{\hlfootnotesizeboxhash}%
\newsavebox{\hlfootnotesizeboxat}%
\newsavebox{\hlfootnotesizeboxpercent}% 
\newsavebox{\hlfootnotesizeboxhat}%
\newsavebox{\hlfootnotesizeboxsinglequote}%
\newsavebox{\hlfootnotesizeboxbacktick}%

\setbox\hlfootnotesizeboxopenbrace=\hbox{\begin{footnotesize}\verb.{.\end{footnotesize}}%
\setbox\hlfootnotesizeboxclosebrace=\hbox{\begin{footnotesize}\verb.}.\end{footnotesize}}%
\setbox\hlfootnotesizeboxlessthan=\hbox{\begin{footnotesize}\verb.<.\end{footnotesize}}%
\setbox\hlfootnotesizeboxdollar=\hbox{\begin{footnotesize}\verb.$.\end{footnotesize}}%
\setbox\hlfootnotesizeboxunderscore=\hbox{\begin{footnotesize}\verb._.\end{footnotesize}}%
\setbox\hlfootnotesizeboxand=\hbox{\begin{footnotesize}\verb.&.\end{footnotesize}}%
\setbox\hlfootnotesizeboxhash=\hbox{\begin{footnotesize}\verb.#.\end{footnotesize}}%
\setbox\hlfootnotesizeboxat=\hbox{\begin{footnotesize}\verb.@.\end{footnotesize}}%
\setbox\hlfootnotesizeboxbackslash=\hbox{\begin{footnotesize}\verb.\.\end{footnotesize}}%
\setbox\hlfootnotesizeboxgreaterthan=\hbox{\begin{footnotesize}\verb.>.\end{footnotesize}}%
\setbox\hlfootnotesizeboxpercent=\hbox{\begin{footnotesize}\verb.%.\end{footnotesize}}%
\setbox\hlfootnotesizeboxhat=\hbox{\begin{footnotesize}\verb.^.\end{footnotesize}}%
\setbox\hlfootnotesizeboxsinglequote=\hbox{\begin{footnotesize}\verb.'.\end{footnotesize}}%
\setbox\hlfootnotesizeboxbacktick=\hbox{\begin{footnotesize}\verb.`.\end{footnotesize}}%
\setbox\hlfootnotesizeboxhat=\hbox{\begin{footnotesize}\verb.^.\end{footnotesize}}%



\newsavebox{\hlsmallboxclosebrace}%
\newsavebox{\hlsmallboxopenbrace}%
\newsavebox{\hlsmallboxbackslash}%
\newsavebox{\hlsmallboxlessthan}%
\newsavebox{\hlsmallboxgreaterthan}%
\newsavebox{\hlsmallboxdollar}%
\newsavebox{\hlsmallboxunderscore}%
\newsavebox{\hlsmallboxand}%
\newsavebox{\hlsmallboxhash}%
\newsavebox{\hlsmallboxat}%
\newsavebox{\hlsmallboxpercent}% 
\newsavebox{\hlsmallboxhat}%
\newsavebox{\hlsmallboxsinglequote}%
\newsavebox{\hlsmallboxbacktick}%

\setbox\hlsmallboxopenbrace=\hbox{\begin{small}\verb.{.\end{small}}%
\setbox\hlsmallboxclosebrace=\hbox{\begin{small}\verb.}.\end{small}}%
\setbox\hlsmallboxlessthan=\hbox{\begin{small}\verb.<.\end{small}}%
\setbox\hlsmallboxdollar=\hbox{\begin{small}\verb.$.\end{small}}%
\setbox\hlsmallboxunderscore=\hbox{\begin{small}\verb._.\end{small}}%
\setbox\hlsmallboxand=\hbox{\begin{small}\verb.&.\end{small}}%
\setbox\hlsmallboxhash=\hbox{\begin{small}\verb.#.\end{small}}%
\setbox\hlsmallboxat=\hbox{\begin{small}\verb.@.\end{small}}%
\setbox\hlsmallboxbackslash=\hbox{\begin{small}\verb.\.\end{small}}%
\setbox\hlsmallboxgreaterthan=\hbox{\begin{small}\verb.>.\end{small}}%
\setbox\hlsmallboxpercent=\hbox{\begin{small}\verb.%.\end{small}}%
\setbox\hlsmallboxhat=\hbox{\begin{small}\verb.^.\end{small}}%
\setbox\hlsmallboxsinglequote=\hbox{\begin{small}\verb.'.\end{small}}%
\setbox\hlsmallboxbacktick=\hbox{\begin{small}\verb.`.\end{small}}%
\setbox\hlsmallboxhat=\hbox{\begin{small}\verb.^.\end{small}}%



\newsavebox{\hllargeboxclosebrace}%
\newsavebox{\hllargeboxopenbrace}%
\newsavebox{\hllargeboxbackslash}%
\newsavebox{\hllargeboxlessthan}%
\newsavebox{\hllargeboxgreaterthan}%
\newsavebox{\hllargeboxdollar}%
\newsavebox{\hllargeboxunderscore}%
\newsavebox{\hllargeboxand}%
\newsavebox{\hllargeboxhash}%
\newsavebox{\hllargeboxat}%
\newsavebox{\hllargeboxpercent}% 
\newsavebox{\hllargeboxhat}%
\newsavebox{\hllargeboxsinglequote}%
\newsavebox{\hllargeboxbacktick}%

\setbox\hllargeboxopenbrace=\hbox{\begin{large}\verb.{.\end{large}}%
\setbox\hllargeboxclosebrace=\hbox{\begin{large}\verb.}.\end{large}}%
\setbox\hllargeboxlessthan=\hbox{\begin{large}\verb.<.\end{large}}%
\setbox\hllargeboxdollar=\hbox{\begin{large}\verb.$.\end{large}}%
\setbox\hllargeboxunderscore=\hbox{\begin{large}\verb._.\end{large}}%
\setbox\hllargeboxand=\hbox{\begin{large}\verb.&.\end{large}}%
\setbox\hllargeboxhash=\hbox{\begin{large}\verb.#.\end{large}}%
\setbox\hllargeboxat=\hbox{\begin{large}\verb.@.\end{large}}%
\setbox\hllargeboxbackslash=\hbox{\begin{large}\verb.\.\end{large}}%
\setbox\hllargeboxgreaterthan=\hbox{\begin{large}\verb.>.\end{large}}%
\setbox\hllargeboxpercent=\hbox{\begin{large}\verb.%.\end{large}}%
\setbox\hllargeboxhat=\hbox{\begin{large}\verb.^.\end{large}}%
\setbox\hllargeboxsinglequote=\hbox{\begin{large}\verb.'.\end{large}}%
\setbox\hllargeboxbacktick=\hbox{\begin{large}\verb.`.\end{large}}%
\setbox\hllargeboxhat=\hbox{\begin{large}\verb.^.\end{large}}%



\newsavebox{\hlLargeboxclosebrace}%
\newsavebox{\hlLargeboxopenbrace}%
\newsavebox{\hlLargeboxbackslash}%
\newsavebox{\hlLargeboxlessthan}%
\newsavebox{\hlLargeboxgreaterthan}%
\newsavebox{\hlLargeboxdollar}%
\newsavebox{\hlLargeboxunderscore}%
\newsavebox{\hlLargeboxand}%
\newsavebox{\hlLargeboxhash}%
\newsavebox{\hlLargeboxat}%
\newsavebox{\hlLargeboxpercent}% 
\newsavebox{\hlLargeboxhat}%
\newsavebox{\hlLargeboxsinglequote}%
\newsavebox{\hlLargeboxbacktick}%

\setbox\hlLargeboxopenbrace=\hbox{\begin{Large}\verb.{.\end{Large}}%
\setbox\hlLargeboxclosebrace=\hbox{\begin{Large}\verb.}.\end{Large}}%
\setbox\hlLargeboxlessthan=\hbox{\begin{Large}\verb.<.\end{Large}}%
\setbox\hlLargeboxdollar=\hbox{\begin{Large}\verb.$.\end{Large}}%
\setbox\hlLargeboxunderscore=\hbox{\begin{Large}\verb._.\end{Large}}%
\setbox\hlLargeboxand=\hbox{\begin{Large}\verb.&.\end{Large}}%
\setbox\hlLargeboxhash=\hbox{\begin{Large}\verb.#.\end{Large}}%
\setbox\hlLargeboxat=\hbox{\begin{Large}\verb.@.\end{Large}}%
\setbox\hlLargeboxbackslash=\hbox{\begin{Large}\verb.\.\end{Large}}%
\setbox\hlLargeboxgreaterthan=\hbox{\begin{Large}\verb.>.\end{Large}}%
\setbox\hlLargeboxpercent=\hbox{\begin{Large}\verb.%.\end{Large}}%
\setbox\hlLargeboxhat=\hbox{\begin{Large}\verb.^.\end{Large}}%
\setbox\hlLargeboxsinglequote=\hbox{\begin{Large}\verb.'.\end{Large}}%
\setbox\hlLargeboxbacktick=\hbox{\begin{Large}\verb.`.\end{Large}}%
\setbox\hlLargeboxhat=\hbox{\begin{Large}\verb.^.\end{Large}}%



\newsavebox{\hlLARGEboxclosebrace}%
\newsavebox{\hlLARGEboxopenbrace}%
\newsavebox{\hlLARGEboxbackslash}%
\newsavebox{\hlLARGEboxlessthan}%
\newsavebox{\hlLARGEboxgreaterthan}%
\newsavebox{\hlLARGEboxdollar}%
\newsavebox{\hlLARGEboxunderscore}%
\newsavebox{\hlLARGEboxand}%
\newsavebox{\hlLARGEboxhash}%
\newsavebox{\hlLARGEboxat}%
\newsavebox{\hlLARGEboxpercent}% 
\newsavebox{\hlLARGEboxhat}%
\newsavebox{\hlLARGEboxsinglequote}%
\newsavebox{\hlLARGEboxbacktick}%

\setbox\hlLARGEboxopenbrace=\hbox{\begin{LARGE}\verb.{.\end{LARGE}}%
\setbox\hlLARGEboxclosebrace=\hbox{\begin{LARGE}\verb.}.\end{LARGE}}%
\setbox\hlLARGEboxlessthan=\hbox{\begin{LARGE}\verb.<.\end{LARGE}}%
\setbox\hlLARGEboxdollar=\hbox{\begin{LARGE}\verb.$.\end{LARGE}}%
\setbox\hlLARGEboxunderscore=\hbox{\begin{LARGE}\verb._.\end{LARGE}}%
\setbox\hlLARGEboxand=\hbox{\begin{LARGE}\verb.&.\end{LARGE}}%
\setbox\hlLARGEboxhash=\hbox{\begin{LARGE}\verb.#.\end{LARGE}}%
\setbox\hlLARGEboxat=\hbox{\begin{LARGE}\verb.@.\end{LARGE}}%
\setbox\hlLARGEboxbackslash=\hbox{\begin{LARGE}\verb.\.\end{LARGE}}%
\setbox\hlLARGEboxgreaterthan=\hbox{\begin{LARGE}\verb.>.\end{LARGE}}%
\setbox\hlLARGEboxpercent=\hbox{\begin{LARGE}\verb.%.\end{LARGE}}%
\setbox\hlLARGEboxhat=\hbox{\begin{LARGE}\verb.^.\end{LARGE}}%
\setbox\hlLARGEboxsinglequote=\hbox{\begin{LARGE}\verb.'.\end{LARGE}}%
\setbox\hlLARGEboxbacktick=\hbox{\begin{LARGE}\verb.`.\end{LARGE}}%
\setbox\hlLARGEboxhat=\hbox{\begin{LARGE}\verb.^.\end{LARGE}}%



\newsavebox{\hlhugeboxclosebrace}%
\newsavebox{\hlhugeboxopenbrace}%
\newsavebox{\hlhugeboxbackslash}%
\newsavebox{\hlhugeboxlessthan}%
\newsavebox{\hlhugeboxgreaterthan}%
\newsavebox{\hlhugeboxdollar}%
\newsavebox{\hlhugeboxunderscore}%
\newsavebox{\hlhugeboxand}%
\newsavebox{\hlhugeboxhash}%
\newsavebox{\hlhugeboxat}%
\newsavebox{\hlhugeboxpercent}% 
\newsavebox{\hlhugeboxhat}%
\newsavebox{\hlhugeboxsinglequote}%
\newsavebox{\hlhugeboxbacktick}%

\setbox\hlhugeboxopenbrace=\hbox{\begin{huge}\verb.{.\end{huge}}%
\setbox\hlhugeboxclosebrace=\hbox{\begin{huge}\verb.}.\end{huge}}%
\setbox\hlhugeboxlessthan=\hbox{\begin{huge}\verb.<.\end{huge}}%
\setbox\hlhugeboxdollar=\hbox{\begin{huge}\verb.$.\end{huge}}%
\setbox\hlhugeboxunderscore=\hbox{\begin{huge}\verb._.\end{huge}}%
\setbox\hlhugeboxand=\hbox{\begin{huge}\verb.&.\end{huge}}%
\setbox\hlhugeboxhash=\hbox{\begin{huge}\verb.#.\end{huge}}%
\setbox\hlhugeboxat=\hbox{\begin{huge}\verb.@.\end{huge}}%
\setbox\hlhugeboxbackslash=\hbox{\begin{huge}\verb.\.\end{huge}}%
\setbox\hlhugeboxgreaterthan=\hbox{\begin{huge}\verb.>.\end{huge}}%
\setbox\hlhugeboxpercent=\hbox{\begin{huge}\verb.%.\end{huge}}%
\setbox\hlhugeboxhat=\hbox{\begin{huge}\verb.^.\end{huge}}%
\setbox\hlhugeboxsinglequote=\hbox{\begin{huge}\verb.'.\end{huge}}%
\setbox\hlhugeboxbacktick=\hbox{\begin{huge}\verb.`.\end{huge}}%
\setbox\hlhugeboxhat=\hbox{\begin{huge}\verb.^.\end{huge}}%



\newsavebox{\hlHugeboxclosebrace}%
\newsavebox{\hlHugeboxopenbrace}%
\newsavebox{\hlHugeboxbackslash}%
\newsavebox{\hlHugeboxlessthan}%
\newsavebox{\hlHugeboxgreaterthan}%
\newsavebox{\hlHugeboxdollar}%
\newsavebox{\hlHugeboxunderscore}%
\newsavebox{\hlHugeboxand}%
\newsavebox{\hlHugeboxhash}%
\newsavebox{\hlHugeboxat}%
\newsavebox{\hlHugeboxpercent}% 
\newsavebox{\hlHugeboxhat}%
\newsavebox{\hlHugeboxsinglequote}%
\newsavebox{\hlHugeboxbacktick}%

\setbox\hlHugeboxopenbrace=\hbox{\begin{Huge}\verb.{.\end{Huge}}%
\setbox\hlHugeboxclosebrace=\hbox{\begin{Huge}\verb.}.\end{Huge}}%
\setbox\hlHugeboxlessthan=\hbox{\begin{Huge}\verb.<.\end{Huge}}%
\setbox\hlHugeboxdollar=\hbox{\begin{Huge}\verb.$.\end{Huge}}%
\setbox\hlHugeboxunderscore=\hbox{\begin{Huge}\verb._.\end{Huge}}%
\setbox\hlHugeboxand=\hbox{\begin{Huge}\verb.&.\end{Huge}}%
\setbox\hlHugeboxhash=\hbox{\begin{Huge}\verb.#.\end{Huge}}%
\setbox\hlHugeboxat=\hbox{\begin{Huge}\verb.@.\end{Huge}}%
\setbox\hlHugeboxbackslash=\hbox{\begin{Huge}\verb.\.\end{Huge}}%
\setbox\hlHugeboxgreaterthan=\hbox{\begin{Huge}\verb.>.\end{Huge}}%
\setbox\hlHugeboxpercent=\hbox{\begin{Huge}\verb.%.\end{Huge}}%
\setbox\hlHugeboxhat=\hbox{\begin{Huge}\verb.^.\end{Huge}}%
\setbox\hlHugeboxsinglequote=\hbox{\begin{Huge}\verb.'.\end{Huge}}%
\setbox\hlHugeboxbacktick=\hbox{\begin{Huge}\verb.`.\end{Huge}}%
\setbox\hlHugeboxhat=\hbox{\begin{Huge}\verb.^.\end{Huge}}%
 

\def\urltilda{\kern -.15em\lower .7ex\hbox{\~{}}\kern .04em}%

\newcommand{\hlstd}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.16,0.16,1}{#1}}
\newcommand{\hlesc}[1]{\textcolor[rgb]{1,0,1}{#1}}
\newcommand{\hlstr}[1]{\textcolor[rgb]{1,0,0}{#1}}
\newcommand{\hldstr}[1]{\textcolor[rgb]{0.51,0.51,0}{#1}}
\newcommand{\hlslc}[1]{\textcolor[rgb]{0.51,0.51,0.51}{\it{#1}}}
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.51,0.51,0.51}{\it{#1}}}
\newcommand{\hldir}[1]{\textcolor[rgb]{0,0.51,0}{#1}}
\newcommand{\hlsym}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\hlline}[1]{\textcolor[rgb]{0.33,0.33,0.33}{#1}}
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0,0,0}{\bf{#1}}}
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.51,0,0}{#1}}
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0,0,0}{\bf{#1}}}
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0,0,0.51}{#1}}


\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage[OT1]{fontenc}
\usepackage{amsfonts, amsmath, amssymb}
\usepackage{dcolumn, multirow}
\usepackage{epsfig, subfigure, subfloat, graphicx}
\usepackage{anysize, indentfirst, setspace}
\usepackage{verbatim, rotating, paralist}
\usepackage{natbib, float,booktabs, caption,hyperref}
\usepackage{soul}

\ifdefined\knitrout
  \renewenvironment{knitrout}{\begin{footnotesize}}{\end{footnotesize}}
\else
\fi
\setlength\parindent{0pt}

\begin{document}


\setkeys{Gin}{width=0.8\textwidth}

\title{Strategic Data Project Data Building Tasks}
\author{Jared E. Knowles, Wisconsin Department of Public Instruction}
\pagestyle{plain}
\pagenumbering{arabic}
\setcounter{page}{1}
\graphicspath{{./img/}}

\begin{flushright}
\textbf{Jared E. Knowles, Wisconsin Department of Public Instruction}\\
\textbf{Strategic Data Project Data Building Tasks}\\
\textbf{May 2012}\\
\textbf{Last updated: \today}\\
\end{flushright}

\vspace{5mm}
\tableofcontents




\section{Overview}
Housed at the Center for Education Policy Research at Harvard University, the Strategic Data Project (SDP) partners with 
school districts, school networks, and state agencies across the US. \textbf{Our mission is to transform the use of data in education to 
improve student achievement.} We believe that with the right people, the right data, and the right analyses, we can significantly 
improve the quality of strategic policy and management decisions. \\

\textbf{Core Strategies} \\
To achieve our mission, SDP pursues three core strategies: \\

1. Placing top-notch analytic leaders as ``Fellows'' for two years with our partner agencies; \\

\noindent{\small SDP supports more than 40 Data and Agency Fellows serving partner educational agencies--
districts, states, and charter management organizations--across the nation.  This number will grow to nearly 70 in 2012.} \\

2. Conducting rigorous diagnostic analyses of teacher effectiveness and college-going success using existing agency data; and \\

\noindent{\small We have completed diagnostics in teacher effectiveness and / or college-going success in 
seven districts, with more diagnostics currently underway or planned in additional district 
and state partner agencies.} \\

3. Disseminating our tools, methods, and lessons learned to many more education agencies. \\

\noindent{\small Through the diagnostic analyses, we have developed a body of knowledge around effective 
data use.  The release of this toolkit reflects SDP's third core strategy to spread knowledge 
and build capacity within educational agencies for effective data use.} \\


\textbf{SDP DIAGNOSTICS}\\

Our second core strategy, conducting rigorous diagnostic analyses using existing agency data, focuses on two core areas: \textbf{(1) college-going
success and attainment for students and (2) human capital} (primarily examining teacher effectiveness).\\

The diagnostics are a set of analyses that frame actionable questions for education leaders.  By asking questions such as, ``How well do students transition to postsecondary education?'' or ``How successfully is an agency recruiting effective teachers?'' we support education leaders to develop a deep understanding of student achievement in their agency. In an effort to make these analyses accessible and more widely used, this toolkit helps analysts collect data and produce analyses associated with the SDP College-Going and Human Capital diagnostics.  \\

Notably, the diagnostic analyses in this release of our toolkit are specific to the College-Going diagnostic.  The data collection (Identify), data cleaning (Clean), and best practices (Adopt) stages of the toolkit, however, are applicable to either diagnostic and convey general data use guidelines valuable to any analysts interested in increasing the quality and rigor of their analyses. Later releases will address the analyses in our Human Capital diagnostic.

\section{Introduction}
\noindent \large \textbf{SDP Data Building Tasks} \\
\normalsize
Congratulations on identifying the data elements that are essential for conducting rigorous analyses in your 
organization. \textbf{Clean} is the next stage in the SDP Toolkit for Effective Data Use.  To successfully move through the 
\textbf{Clean} stage, you should review the  \textbf{Identify} component of this toolkit.  Upon completing this stage, you will have 
produced clean research files that will allow you to \textbf{Connect} and \textbf{Analyze} data related to college-going success in your 
agency.  \\

\noindent \large{THE TASKS} \\
\normalsize
\textbf{Clean} consist of five tasks that share a similar structure.  The tasks are geared toward analysts with at least moderately 
strong data background and comfort with statistics.  Each task provides hands-on experience building specific 
components of the research file used for the SDP CollegeGoing Diagnostic Analyses.  \\

\noindent The tasks are listed as follows:
\begin{description}
\item [Task 1] Student Attributes
\item [Task 2] Student School Year
\item [Task 3] Identifying the Ninth Grade Cohort
\item [Task 4] Student School Enrollment
\item [Task 5] Prior Achievement
\end{description}

Each task is accompanied by a practice file dataset upon which all data snapshots and output are based. These datasets consist of simulated data that have been fully de-identified.We strongly recommend that you use these datasets to work through the tasks and check your answers.  The datasets are available for download at www.gse.harvard.edu/sdp/tools. Note that the tasks follow a logical sequence from Task 1 to Task 5, and some tasks require the output of previous 
tasks.  However, because we provide all necessary practice files for each task, you may also choose to work on the tasks out of order.  For instance, you may be first interested in identifying the ninth-grade cohort for students in your agency with Task 3. \\

To successfully complete all parts of this toolkit, however, you should work your way through all five tasks.  The 
output of each task will be needed to successfully complete the Connect and Analyze stages of the toolkit. 
Lastly, it is important to note that the tasks do not show you how to develop every single component and detail of 
the files to be used in Connect and Analyze.  Our goal is to equip you with an understanding for the core process of 
constructing robust, clean research files.  We do, however, aim to explicitly indicate what additional elements are 
needed in the DATA DESCRIPTION section of each task to deliver a fully realized research file.  Furthermore, we also 
provide a DECISION RULES GLOSSARY in the Appendix at the end of this document to provide guidance on how 
to approach the cleaning process for these additional elements.\\

For those who are less familiar with or who need to brush up on Stata use, we also include a STATA GLOSSARY of 
commonly used commands in the Appendix at the end of this document.  Through this set of tasks, you will learn effective practices 
for: data transformations, new variable construction, and the implementation of key decision rules.\\

\noindent\large{TASK STRUCTURE} \\
\normalsize
The core of each task is a set of step-by-step instructions that guide you through the work. For each task you will find:
\begin{itemize}
\item Purpose --- Clarifies the importance of the task.  
\item How to Start --- Identifies the input file(s) you will need to complete the task and guidelines for apply the task to your  own agency's data.
\item Data Description --- Lists the data elements you will need to complete the task and describes the uniqueness of key data elements.
\item Instructions --- Provides logical instructions on transforming the data with Stata code and fill-in-the-blank snapshots that help you visualize changes to your data.
\item Solutions --- Provides answers for the data snapshot exercises.
\end{itemize}

\noindent After completing these tasks, you will be well-positioned to use your own agencyâ€™s data to construct similar clean research files needed in the Connect and Analyze stages.\\

\noindent Finally, if you find yourself in need of additional guidance, the friendly research team at SDP is available to help: sdp@gse.harvard.edu


\section{Task 1: STUDENT ATTRIBUTES}
\subsection{PURPOSE}

\normalsize Through Task 1: Student Attributes, you will take the raw Student Attributes file and generate a cleaned Student Attributes output 
file that has only one observation per student. These data will allow you to examine college-going outcomes by race/ethnicity.\\

The core assignments of this task are to: \\

\noindent 1. Resolve instances in which the same student appears with different values for race/ethnicity in different years. Our goal is to 
have only one race/ethnicity associated with each student.\\

\noindent 2. Drop duplicate observations so the file is unique by student--that is, it contains only one observation per student. Upon completing this task, you will be have a clean Student\_Attributes file that can then be used as to create the analysis file in Connect.  From Task 1, Task 2 is a natural next step, in which you will clean the Student\_School\_Year file in preparation for Task 3 and Task 4. \\

\subsection{HOW TO START}
\noindent To begin, open the provided Student\_Attributes practice file.

\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Read{\ }in{\ }Stata}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{library}\hlkeyword{(}\hlsymbol{foreign}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }required{\ }for{\ }.dta{\ }files}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{read.dta}\hlkeyword{(}\hlstring{"{}data/Student\usebox{\hlnormalsizeboxunderscore}Attributes.dta"{}}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }read{\ }data{\ }in{\ }the{\ }data{\ }subdirectory}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }We{\ }can{\ }also{\ }convert{\ }to{\ }.csv{\ }and{\ }import}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}


The input file contains data for school years 2000-01 through 2006-07.  Normally race is considered a time-invariant variable that is unique by 
student.  In this instance, we deal with a case in which race is stored in a file unique by student and school year, which is instead time-variant.  
This task aims to take convert the dataset from being time-variant to being time-invariant. \\

If this is your first time going through the task, we recommend starting with the practice file, rather than your agency's own 
data file.  Doing so will help you learn SDP's cleaning methodology and allow you to easily check your answers from a common 
dataset.  You may then apply these methods to your agency's own Student\_Attributes data with confidence.  To learn more about 
the data you will need to collect in your agency, refer to Identify: Data Specification Guide and the DATA DESCRIPTION section of 
this document.\\

In addition to the practice file, you may also find it useful to complete the data snapshot exercises provided in the task.  These 
exercises will allow you to visualize changes to the data occurring in each step of the task.  Solutions for the exercises are 
provided at the end of the task. 

\subsection{DATA DESCRIPTION}
In Identify: Data Specification Guide, we specify the data elements included in the Student\_Attributes research file.\footnote{
You may be wondering how  this specification compares to the  version in Identify: Data Specification Guide. Here are the primary changes:
First, the race\_ethnicity variable is coded as a string rather than being numeric, as specified in the Data Specification Guide.  You will correct this in the task as it will facilitate the process of making the file unique by sid.Second, we are examining a time-variant data set. In the Data Specification Guide, the Student\_Attributes file is specified as being unique by sid.  In this case, the data are time-variant and unique by sid and school\_year. Note that some districts may actually store race\_ethnicity in a time-variant form such as this, and it is our job through this task to make the data time-invariant, i.e. each student only has a single value for race\_ethnicity across time. Third, we are examining a partial data set including only sid, school\_year, and race\_ethnicity.  We do not include variables such as male, hs\_diploma, or hs\_diploma\_type, or hs\_diploma\_date to simplify the task.  These variables are essential for later analyses but are left for you to complete as a further exercise.For guidance on cleaning these additional variables, refer to the DECISION RULES GLOSSARY at the end of this document and use this task as a reference.} \\

In this task, we examine a partial version of the Student\_Attributes file that includes only sid, school\_year, and race\_ethnicity. This partial 
version is presented to help you learn the Student\_Attributes cleaning process to make a file unique by sid without having to 
worry about additional Student\_Attributes variables such as male, hs\_diploma , hs\_diploma\_type, or hs\_diploma\_date.  The 
relevant variables and definitions you will need to complete the task are illustrated below:

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{str}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
'data.frame':	59606 obs. of  3 variables:
 $ sid           : int  1 1 1 1 2 2 3 3 3 4 ...
 $ school_year   : int  2004 2005 2006 2007 2006 2007 2005 2006 2007 2005 ...
 $ race_ethnicity: chr  "B" "H" "H" "H" ...
 - attr(*, "datalabel")= chr ""
 - attr(*, "time.stamp")= chr "30 Jan 2012 15:37"
 - attr(*, "formats")= chr  "%10.0g" "%10.0g" "%9s"
 - attr(*, "types")= int  252 252 3
 - attr(*, "val.labels")= chr  "" "" ""
 - attr(*, "var.labels")= chr  "sdpsid" "schoolyear" "raceethnicity"
 - attr(*, "version")= int 12
\end{verbatim}
\end{kframe}
\end{knitrout}


\textbf{Uniqueness:} ideally, the data in its raw form would be unique by sid.  However, this may not be the case as some agencies might 
record race\_ethnicity in a time-variant manner, such as by school year. To address this, we explain how to take the raw research 
file from being unique by sid and school\_year to being unique by sid alone.  Once the file is unique by sid alone, it is ready to be 
incorporated into the analysis file in the Connect stage.

Examine  your Student\_Attributes raw research file input dataset.  According to the data specification, the file should be 
unique by sid.  Examine the snapshot below to determine if it is unique as described.  

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
  sid school_year race_ethnicity
1   1        2004              B
2   1        2005              H
3   1        2006              H
4   1        2007              H
5   2        2006              W
6   2        2007              B
\end{verbatim}
\end{kframe}
\end{knitrout}


% Optional--consider removing since R does not need factors to be recoded as numeric
Recode the raw race\_ethnicity variable as numeric. Race\_ethnicity is currently coded as a string variable, which is how some 
agencies may store this data . Replace the string values with numeric values as shown below. This numeric race variable will 
be easier to use in later stages of the task. \\

\begin{description}
\setlength{\parskip}{-6pt}
\item [1=] African American, not Hispanic
\item [2=] Asian American
\item [3=] Hispanic
\item [4=] American Indian
\item [5=] White, not Hispanic
\item [6=] Multiple / Other
\end{description}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{NA}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Create{\ }variable{\ }race\usebox{\hlnormalsizeboxunderscore}num}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }in{\ }data{\ }frame{\ }stuatt}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{unique}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}check{\ }current{\ }values}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
[1] "B"   "H"   "W"   "A"   "NA"  "M/O"
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Generate{\ }numeric{\ }race{\ }code{\ }using{\ }conditional{\ }expressions{\ }in{\ }R{\ }(in{\ }brackets)}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{[}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}{\ }=={\ }\hlstring{"{}B"{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{[}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}{\ }=={\ }\hlstring{"{}A"{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{2}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{[}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}{\ }=={\ }\hlstring{"{}H"{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{3}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{[}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}{\ }=={\ }\hlstring{"{}NA"{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{4}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{[}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}{\ }=={\ }\hlstring{"{}W"{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{5}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{[}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}{\ }=={\ }\hlstring{"{}M/O"{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{6}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{unique}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
[1] 1 3 5 2 4 6
\end{verbatim}
\end{kframe}
\end{knitrout}

% Life is good, moving on

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }In{\ }R{\ }categorical{\ }variables{\ }are{\ }best{\ }represented{\ }as{\ }factors{\ }Factors{\ }can{\ }have}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }values,{\ }and{\ }labels{\ }Create{\ }a{\ }labeled{\ }factor{\ }for{\ }the{\ }new{\ }race\usebox{\hlnormalsizeboxunderscore}num{\ }variable}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num2}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{factor}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{,}{\ }\hlargument{labels}{\ }\hlargument{=}{\ }\hlfunctioncall{c}\hlkeyword{(}\hlstring{"{}Black"{}}\hlkeyword{,}{\ }\hlstring{"{}Asian"{}}\hlkeyword{,}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlstring{"{}Hispanic"{}}\hlkeyword{,}{\ }\hlstring{"{}Native{\ }American"{}}\hlkeyword{,}{\ }\hlstring{"{}White"{}}\hlkeyword{,}{\ }\hlstring{"{}MultipleOther"{}}\hlkeyword{)}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Compare{\ }them{\ }to{\ }check{\ }using{\ }a{\ }cross-tabulation}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{,}{\ }\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num2}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
     
      Black Asian Hispanic Native American White MultipleOther
  A       0  6588        0               0     0             0
  B   40220     0        0               0     0             0
  H       0     0     7798               0     0             0
  M/O     0     0        0               0     0           106
  NA      0     0        0             147     0             0
  W       0     0        0               0  4747             0
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Replace{\ }them}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }NULL\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num2}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}num2}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }NULL\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }counts}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}

          Black           Asian        Hispanic Native American           White 
          40220            6588            7798             147            4747 
  MultipleOther 
            106 
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{prop.table}\hlkeyword{(}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{)}\hlkeyword{)}{\ }\hlkeyword{*}{\ }\hlnumber{100}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}percentages}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}

          Black           Asian        Hispanic Native American           White 
        67.4764         11.0526         13.0826          0.2466          7.9640 
  MultipleOther 
         0.1778 
\end{verbatim}
\end{kframe}
\end{knitrout}


Check:  What does the distribution of your race\_ethnicity variable look like? Let's redraw the tables above in a more readable format.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{library}\hlkeyword{(}\hlsymbol{xtable}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}beautify{\ }our{\ }output}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{print}\hlkeyword{(}\hlfunctioncall{xtable}\hlkeyword{(}\hlfunctioncall{prop.table}\hlkeyword{(}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{)}\hlkeyword{)}{\ }\hlkeyword{*}{\ }\hlnumber{100}\hlkeyword{)}\hlkeyword{,}{\ }\hlargument{include.colnames}{\ }\hlargument{=}{\ }\hlnumber{FALSE}\hlkeyword{,}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlargument{floating}{\ }\hlargument{=}{\ }\hlnumber{FALSE}\hlkeyword{,}{\ }\hlargument{hline.after}{\ }\hlargument{=}{\ }NULL\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{print}\hlkeyword{(}\hlfunctioncall{xtable}\hlkeyword{(}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{)}{\ }\hlkeyword{*}{\ }\hlnumber{100}\hlkeyword{,}{\ }\hlargument{digits}{\ }\hlargument{=}{\ }\hlnumber{0}\hlkeyword{)}\hlkeyword{,}{\ }\hlargument{include.colnames}{\ }\hlargument{=}{\ }\hlnumber{FALSE}\hlkeyword{,}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlargument{floating}{\ }\hlargument{=}{\ }\hlnumber{FALSE}\hlkeyword{,}{\ }\hlargument{hline.after}{\ }\hlargument{=}{\ }NULL\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}
\end{knitrout}

\begin{table}[htb]
\begin{minipage}{.45\textwidth}
\centering

% latex table generated in R 2.15.0 by xtable 1.7-0 package
% Sat Jun 02 00:02:44 2012
\begin{tabular}{rr}
  Black & 67.48 \\ 
  Asian & 11.05 \\ 
  Hispanic & 13.08 \\ 
  Native American & 0.25 \\ 
  White & 7.96 \\ 
  MultipleOther & 0.18 \\ 
  \end{tabular}



\captionof{table}{Proportions}
\end{minipage}
\begin{minipage}{.45\textwidth}
\centering

% latex table generated in R 2.15.0 by xtable 1.7-0 package
% Sat Jun 02 00:02:44 2012
\begin{tabular}{rr}
  Black & 4022000 \\ 
  Asian & 658800 \\ 
  Hispanic & 779800 \\ 
  Native American & 14700 \\ 
  White & 474700 \\ 
  MultipleOther & 10600 \\ 
  \end{tabular}



\captionof{table}{Counts}
\end{minipage}
\end{table}

Let's also draw a figure to show this distribution.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{library}\hlkeyword{(}\hlsymbol{ggplot2}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{qplot}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{,}{\ }\hlargument{geom}{\ }\hlargument{=}{\ }\hlstring{"{}bar"{}}\hlkeyword{)}{\ }\hlkeyword{+}{\ }\hlfunctioncall{theme\usebox{\hlnormalsizeboxunderscore}bw}\hlkeyword{(}\hlkeyword{)}{\ }\hlkeyword{+}{\ }\hlfunctioncall{xlab}\hlkeyword{(}\hlstring{"{}Race/Ethnicity"{}}\hlkeyword{)}{\ }\hlkeyword{+}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlfunctioncall{ylab}\hlkeyword{(}\hlstring{"{}Count"{}}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}\begin{figure}[h]


{\centering \includegraphics[width=.8\textwidth,height=.2\paperheight]{figure/unnamed-chunk-9} 

}

\caption[Distribution of Observation Race]{Distribution of Observation Race\label{fig:unnamed-chunk-9}}
\end{figure}

\end{knitrout}


\subsection{Consistent Value of race\_ethnicity}

First, create a variable indicating how many unique values race\_ethnicity assumes for each student called nvals\_race.




\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Get{\ }number{\ }of{\ }unique{\ }values{\ }by{\ }sid}\hspace*{\fill}\\
\hlstd{}\hlsymbol{nvals}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{tapply}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{,}{\ }\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}\hlkeyword{,}{\ }\hlkeyword{function}\hlkeyword{(}\hlformalargs{x}\hlkeyword{)}{\ }\hlfunctioncall{length}\hlkeyword{(}\hlfunctioncall{unique}\hlkeyword{(}\hlsymbol{x}\hlkeyword{)}\hlkeyword{)}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{nvals}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
nvals
    1     2     3 
16237   149     5 
\end{verbatim}
\end{kframe}
\end{knitrout}




\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{qplot}\hlkeyword{(}\hlfunctioncall{as.factor}\hlkeyword{(}\hlsymbol{nvals}\hlkeyword{)}\hlkeyword{,}{\ }\hlargument{geom}{\ }\hlargument{=}{\ }\hlstring{"{}bar"{}}\hlkeyword{)}{\ }\hlkeyword{+}{\ }\hlfunctioncall{theme\usebox{\hlnormalsizeboxunderscore}bw}\hlkeyword{(}\hlkeyword{)}{\ }\hlkeyword{+}{\ }\hlfunctioncall{xlab}\hlkeyword{(}\hlstring{"{}Unique{\ }Race{\ }Codes"{}}\hlkeyword{)}{\ }\hlkeyword{+}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlfunctioncall{ylab}\hlkeyword{(}\hlstring{"{}Count"{}}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}\begin{figure}[]


{\centering \includegraphics[width=.8\textwidth,height=.2\paperheight]{figure/unnamed-chunk-11} 

}

\caption[Number of Values]{Number of Values\label{fig:unnamed-chunk-11}}
\end{figure}

\end{knitrout}


Next, for students with more than one value for race\_ethnicity, assign the modal value as the student's race.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }First{\ }we{\ }need{\ }to{\ }create{\ }a{\ }\usebox{\hlnormalsizeboxsinglequote}mode\usebox{\hlnormalsizeboxsinglequote}{\ }function{\ }in{\ }R{\ }that{\ }mimics{\ }Stata{\ }statamode}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }creates{\ }a{\ }list{\ }of{\ }the{\ }modal{\ }values{\ }and{\ }assigns{\ }\usebox{\hlnormalsizeboxsinglequote}.\usebox{\hlnormalsizeboxsinglequote}{\ }{\ }If{\ }more{\ }than{\ }one{\ }mode}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }exists}\hspace*{\fill}\\
\hlstd{}\hlsymbol{statamode}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlkeyword{function}\hlkeyword{(}\hlformalargs{x}\hlkeyword{)}{\ }\hlkeyword{\usebox{\hlnormalsizeboxopenbrace}}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{z}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{table}\hlkeyword{(}\hlfunctioncall{as.vector}\hlkeyword{(}\hlsymbol{x}\hlkeyword{)}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{m}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{names}\hlkeyword{(}\hlsymbol{z}\hlkeyword{)}\hlkeyword{[}\hlsymbol{z}{\ }=={\ }\hlfunctioncall{max}\hlkeyword{(}\hlsymbol{z}\hlkeyword{)}\hlkeyword{]}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlkeyword{if}{\ }\hlkeyword{(}\hlfunctioncall{length}\hlkeyword{(}\hlsymbol{m}\hlkeyword{)}{\ }=={\ }\hlnumber{1}\hlkeyword{)}{\ }\hlkeyword{\usebox{\hlnormalsizeboxopenbrace}}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }{\ }{\ }{\ }{\ }\hlfunctioncall{return}\hlkeyword{(}\hlsymbol{m}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlkeyword{\usebox{\hlnormalsizeboxclosebrace}}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{return}\hlfunctioncall{}\hlkeyword{(}\hlstring{"{}."{}}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlkeyword{\usebox{\hlnormalsizeboxclosebrace}}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Create{\ }new{\ }data{\ }frame{\ }for{\ }individual{\ }student{\ }Create{\ }nvals{\ }while{\ }we{\ }are{\ }at{\ }it}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{library}\hlkeyword{(}\hlsymbol{plyr}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }convenience{\ }functions{\ }for{\ }summarizing{\ }data{\ }in{\ }R}\hspace*{\fill}\\
\hlstd{}\hlsymbol{modes}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{ddply}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{,}{\ }\hlfunctioncall{.}\hlkeyword{(}\hlsymbol{sid}\hlkeyword{)}\hlkeyword{,}{\ }\hlsymbol{summarize}\hlkeyword{,}{\ }\hlargument{race\usebox{\hlnormalsizeboxunderscore}temp}{\ }\hlargument{=}{\ }\hlfunctioncall{statamode}\hlkeyword{(}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{)}\hlkeyword{,}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlargument{nvals}{\ }\hlargument{=}{\ }\hlfunctioncall{length}\hlkeyword{(}\hlfunctioncall{unique}\hlkeyword{(}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{)}\hlkeyword{)}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
Error: could not find function "statamode"
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlsymbol{tab1}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}temp}\hlkeyword{,}{\ }\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{nvals}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
Error: object 'modes' not found
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{addmargins}\hlkeyword{(}\hlsymbol{tab1}\hlkeyword{,}{\ }\hlargument{FUN}{\ }\hlargument{=}{\ }\hlfunctioncall{list}\hlkeyword{(}\hlargument{Total}{\ }\hlargument{=}{\ }\hlsymbol{sum}\hlkeyword{)}\hlkeyword{,}{\ }\hlargument{quiet}{\ }\hlargument{=}{\ }\hlnumber{TRUE}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
Error: object 'tab1' not found
\end{verbatim}
\end{kframe}
\end{knitrout}


Check:  What does the distribution of the temporary race variable look like for students with only one unique race value and for 
students with more than one race value?

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlsymbol{df}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{as.data.frame}\hlkeyword{(}\hlsymbol{tab1}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
Error: object 'tab1' not found
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{qplot}\hlkeyword{(}\hlsymbol{Var1}\hlkeyword{,}{\ }\hlsymbol{Var2}\hlkeyword{,}{\ }\hlargument{geom}{\ }\hlargument{=}{\ }\hlstring{"{}point"{}}\hlkeyword{,}{\ }\hlargument{size}{\ }\hlargument{=}{\ }\hlfunctioncall{log}\hlkeyword{(}\hlsymbol{Freq}\hlkeyword{)}\hlkeyword{,}{\ }\hlargument{data}{\ }\hlargument{=}{\ }\hlsymbol{df}\hlkeyword{)}{\ }\hlkeyword{+}{\ }\hlfunctioncall{theme\usebox{\hlnormalsizeboxunderscore}bw}\hlkeyword{(}\hlkeyword{)}{\ }\hlkeyword{+}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlfunctioncall{xlab}\hlkeyword{(}\hlstring{"{}Nvals"{}}\hlkeyword{)}{\ }\hlkeyword{+}{\ }\hlfunctioncall{ylab}\hlkeyword{(}\hlstring{"{}Modal{\ }Race"{}}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
Error: ggplot2 doesn't know how to deal with data of class function
\end{verbatim}
\end{kframe}
\end{knitrout}


Note, thanks to the power of R, we can create a function to do this for us for other variables in the future and on other datasets:

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{source}\hlkeyword{(}\hlstring{"{}functions.R"{}}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Read{\ }in{\ }the{\ }functions{\ }we{\ }have{\ }written}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }All{\ }functions{\ }are{\ }available{\ }in{\ }the{\ }Appendix}\hspace*{\fill}\\
\hlstd{}\hlsymbol{a}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{nvals}\hlkeyword{(}\hlargument{df}{\ }\hlargument{=}{\ }\hlstring{"{}stuatt"{}}\hlkeyword{,}{\ }\hlargument{id}{\ }\hlargument{=}{\ }\hlstring{"{}sid"{}}\hlkeyword{,}{\ }\hlargument{year}{\ }\hlargument{=}{\ }\hlstring{"{}school\usebox{\hlnormalsizeboxunderscore}year"{}}\hlkeyword{,}{\ }\hlargument{var}{\ }\hlargument{=}{\ }\hlstring{"{}race\usebox{\hlnormalsizeboxunderscore}ethnicity"{}}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Here{\ }we{\ }pass{\ }R{\ }some{\ }characters{\ }to{\ }tell{\ }it{\ }which{\ }variables{\ }we{\ }care{\ }about{\ }This}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }allows{\ }us{\ }to{\ }generalize{\ }beyond{\ }the{\ }race{\ }variable{\ }in{\ }the{\ }future{\ }df{\ }={\ }data}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }frame,{\ }id={\ }student{\ }id,{\ }year={\ }school{\ }year,{\ }and{\ }var={\ }our{\ }variable{\ }of{\ }interest}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{a}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
  sid var_temp nvals most_recent_year most_recent_var
1   1 Hispanic     2             2007        Hispanic
2   2        .     2             2007           Black
3   3    Black     2             2007           Black
4   4    Black     1             2007           Black
5   5    Black     1             2007           Black
6   7    Black     1             2001           Black
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{rm}\hlkeyword{(}\hlsymbol{a}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}
\end{knitrout}


C. It appears that we now have 29 students with appended values for the race\_temp variable. This occurs because these students'
race\_ethnicity has two or more modes, so none of the modes is selected as the variable mode in part B of this step.  For these 
students, assign their most recently observed race value as their race\_ethnicity.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Create{\ }a{\ }variable{\ }indicating{\ }the{\ }latest{\ }school{\ }year}\hspace*{\fill}\\
\hlstd{}\hlsymbol{modes}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{ddply}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{,}{\ }\hlfunctioncall{.}\hlkeyword{(}\hlsymbol{sid}\hlkeyword{)}\hlkeyword{,}{\ }\hlsymbol{summarize}\hlkeyword{,}{\ }\hlargument{race\usebox{\hlnormalsizeboxunderscore}temp}{\ }\hlargument{=}{\ }\hlfunctioncall{statamode}\hlkeyword{(}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{)}\hlkeyword{,}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlargument{nvals}{\ }\hlargument{=}{\ }\hlfunctioncall{length}\hlkeyword{(}\hlfunctioncall{unique}\hlkeyword{(}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{)}\hlkeyword{)}\hlkeyword{,}{\ }\hlargument{most\usebox{\hlnormalsizeboxunderscore}recent\usebox{\hlnormalsizeboxunderscore}year}{\ }\hlargument{=}{\ }\hlfunctioncall{max}\hlkeyword{(}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}\hlkeyword{)}\hlkeyword{,}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlargument{most\usebox{\hlnormalsizeboxunderscore}recent\usebox{\hlnormalsizeboxunderscore}race}{\ }\hlargument{=}{\ }\hlfunctioncall{tail}\hlkeyword{(}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{,}{\ }\hlnumber{1}\hlkeyword{)}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race2}\hlkeyword{[}\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}temp}{\ }\hlkeyword{!=}{\ }\hlstring{"{}."{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}temp}\hlkeyword{[}\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}temp}{\ }\hlkeyword{!=}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlstring{"{}."{}}\hlkeyword{]}\hspace*{\fill}\\
\hlstd{}\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race2}\hlkeyword{[}\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}temp}{\ }=={\ }\hlstring{"{}."{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{as.character}\hlkeyword{(}\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{most\usebox{\hlnormalsizeboxunderscore}recent\usebox{\hlnormalsizeboxunderscore}race}\hlkeyword{[}\hlsymbol{modes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}temp}{\ }==\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlstring{"{}."{}}\hlkeyword{]}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{modes}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
  sid race_temp nvals most_recent_year most_recent_race    race2
1   1  Hispanic     2             2007         Hispanic Hispanic
2   2         .     2             2007            Black    Black
3   3     Black     2             2007            Black    Black
4   4     Black     1             2007            Black    Black
5   5     Black     1             2007            Black    Black
6   7     Black     1             2001            Black    Black
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Delete{\ }old{\ }vars{\ }on{\ }stuatt}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{subset}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{,}{\ }\hlargument{select}{\ }\hlargument{=}{\ }\hlfunctioncall{c}\hlkeyword{(}\hlstring{"{}sid"{}}\hlkeyword{,}{\ }\hlstring{"{}school\usebox{\hlnormalsizeboxunderscore}year"{}}\hlkeyword{,}{\ }\hlstring{"{}race\usebox{\hlnormalsizeboxunderscore}ethnicity"{}}\hlkeyword{)}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Assign{\ }the{\ }value{\ }associated{\ }with{\ }the{\ }most{\ }recent{\ }year{\ }as{\ }the{\ }permanent}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }race\usebox{\hlnormalsizeboxunderscore}ethnicity{\ }for{\ }the{\ }students{\ }with{\ }missing{\ }race}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{merge}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{,}{\ }\hlsymbol{modes}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{rm}\hlkeyword{(}\hlsymbol{modes}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{stuatt}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{race2}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuatt}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{subset}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{,}{\ }\hlargument{select}{\ }\hlargument{=}{\ }\hlfunctioncall{c}\hlkeyword{(}\hlstring{"{}sid"{}}\hlkeyword{,}{\ }\hlstring{"{}school\usebox{\hlnormalsizeboxunderscore}year"{}}\hlkeyword{,}{\ }\hlstring{"{}race\usebox{\hlnormalsizeboxunderscore}ethnicity"{}}\hlkeyword{)}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{stuatt}\hlkeyword{,}{\ }\hlargument{n}{\ }\hlargument{=}{\ }\hlnumber{20}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
   sid school_year race_ethnicity
1    1        2004       Hispanic
2    1        2005       Hispanic
3    1        2006       Hispanic
4    1        2007       Hispanic
5    2        2006          Black
6    2        2007          Black
7    3        2005          Black
8    3        2006          Black
9    3        2007          Black
10   4        2005          Black
11   4        2006          Black
12   4        2007          Black
13   5        2007          Black
14   7        2001          Black
15   8        2001          Black
16   9        2001          Black
17   9        2002          Black
18  11        2001          Black
19  11        2002          Black
20  11        2003          Black
\end{verbatim}
\end{kframe}
\end{knitrout}


Check: What is the distribution of the race\_ethnicity in the final file? If all steps were completed correctly, the distributions 
should look exactly the same as in the Check steps for the final  race\_ethnicity variable in 3C.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{qplot}\hlkeyword{(}\hlsymbol{race\usebox{\hlnormalsizeboxunderscore}ethnicity}\hlkeyword{,}{\ }\hlargument{data}{\ }\hlargument{=}{\ }\hlsymbol{stuatt}\hlkeyword{,}{\ }\hlargument{geom}{\ }\hlargument{=}{\ }\hlstring{"{}histogram"{}}\hlkeyword{)}{\ }\hlkeyword{+}{\ }\hlfunctioncall{theme\usebox{\hlnormalsizeboxunderscore}bw}\hlkeyword{(}\hlkeyword{)}{\ }\hlkeyword{+}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlfunctioncall{stat\usebox{\hlnormalsizeboxunderscore}bin}\hlkeyword{(}\hlargument{geom}{\ }\hlargument{=}{\ }\hlstring{"{}text"{}}\hlkeyword{,}{\ }\hlfunctioncall{aes}\hlkeyword{(}\hlargument{label}{\ }\hlargument{=}{\ }\hlsymbol{..count..}\hlkeyword{,}{\ }\hlargument{vjust}{\ }\hlargument{=}{\ }\hlkeyword{-}\hlnumber{0.5}\hlkeyword{)}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
ymax not defined: adjusting position using y instead
\end{verbatim}
\end{kframe}\begin{figure}[]


{\centering \includegraphics[width=.85\textwidth,height=.25\paperheight]{figure/histogramfinal} 

}

\caption[Student Race]{Student Race\label{fig:histogramfinal}}
\end{figure}

\end{knitrout}


Note we can automate all of Task 1 for the future, again using the power of functions:
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }The{\ }Task{\ }1{\ }function{\ }starts{\ }with{\ }our{\ }raw{\ }data{\ }It{\ }performs{\ }all{\ }the{\ }tasks{\ }above}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }And{\ }gives{\ }us{\ }back{\ }cleaned{\ }data{\ }that{\ }just{\ }needs{\ }variable{\ }renaming.}\hspace*{\fill}\\
\hlstd{}\hlsymbol{a}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{task1}\hlkeyword{(}\hlargument{df}{\ }\hlargument{=}{\ }\hlstring{"{}stuatt"{}}\hlkeyword{,}{\ }\hlargument{id}{\ }\hlargument{=}{\ }\hlstring{"{}sid"{}}\hlkeyword{,}{\ }\hlargument{year}{\ }\hlargument{=}{\ }\hlstring{"{}school\usebox{\hlnormalsizeboxunderscore}year"{}}\hlkeyword{,}{\ }\hlargument{var}{\ }\hlargument{=}{\ }\hlstring{"{}race\usebox{\hlnormalsizeboxunderscore}ethnicity"{}}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{a}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
  sid school_year race_ethnicity var_temp nvals most_recent_year
1   1        2004       Hispanic Hispanic     1             2007
2   1        2005       Hispanic Hispanic     1             2007
3   1        2006       Hispanic Hispanic     1             2007
4   1        2007       Hispanic Hispanic     1             2007
5   2        2006          Black    Black     1             2007
6   2        2007          Black    Black     1             2007
  most_recent_var     var2
1        Hispanic Hispanic
2        Hispanic Hispanic
3        Hispanic Hispanic
4        Hispanic Hispanic
5           Black    Black
6           Black    Black
\end{verbatim}
\end{kframe}
\end{knitrout}


\section{Task 2: STUDENT SCHOOL YEAR}

\subsection{PURPOSE}
Through Task 2: Student School Year, you will take the raw Student School Year research file and generate a clean Student School 
Year output file that has only one observation per student and school year.  First, we will create a time-invariant Free or Reduced 
Price Lunch (FRPL) variable as a proxy for students' poverty status. Then, we will ensure that only one grade level is assigned 
per student per school year. \\
\noindent The core assignments of this task is to:
\begin{enumerate}
\setlength{\parskip}{-6pt}
\item Create a variable indicating whether each student was ever eligible for FRPL. 
\item Resolve instances in which a student has more than one grade level in a single school year.
\item Drop duplicate observations so the file is unique by student and school year.
\end{enumerate}
Upon completing this task, you will have a data set unique by student and school year, allowing you to assign students to the 
appropriate ninth grade cohort in Task 3.

\subsection{HOW TO START}
To begin, open the provided Student\_School\_Year\_Preliminary practice file in R.
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }This{\ }time{\ }read{\ }from{\ }a{\ }.csv{\ }file}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuyear}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{read.csv}\hlkeyword{(}\hlstring{"{}data/Student\usebox{\hlnormalsizeboxunderscore}School\usebox{\hlnormalsizeboxunderscore}Year.csv"{}}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Note{\ }that{\ }in{\ }RStudio{\ }we{\ }can{\ }click{\ }\usebox{\hlnormalsizeboxsinglequote}Import{\ }Dataset\usebox{\hlnormalsizeboxsinglequote}{\ }in{\ }the{\ }Workspaces{\ }View}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}
\end{knitrout}


This practice file contains data on student grade level progression and FRPL eligibility through school years 2000-01 through 2006-07 for all 
grades. This file is unique by student, school\_year, and grade\_level.
If this is your first time going through the task, we recommend starting with the practice file, rather than your agency's own 
data file.  Doing so will help you learn SDP's cleaning methodology and allow you to easily check your answers from a common 
dataset.  You may then apply these methods to your agencyâ€™s own Student\_School\_Year data with confidence.  To learn more 
about the data you will need to collect in your agency, refer to Identify: Data Specification Guide and the DATA DESCRIPTION
section of this document.
In addition to the practice file, you may also find it useful to complete the data snapshot exercises provided in the task.  These 
exercises will allow you to visualize changes to the data occurring in each step of the task.  Solutions for the exercises are 
provided at the end of the task.

\subsection{DATA DESCRIPTION}
In Identify: Data Specification Guide, we specify the data elements included in the Student\_School\_Year research file.  In this 
task, however, we consider a partial version of the Student\_School\_Year file that includes only sid, school\_year, grade\_level, 
and frpl. This partial version is presented to help you learn the Student\_School\_Year cleaning process to make a file unique by 
sid and school\_year without having to worry about additional Student\_School\_Year variables such as iep, ell, gifted, or days\_enrolled.  
The relevant variables and definitions you will need to complete the task are illustrated below:  

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{str}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
'data.frame':	56044 obs. of  4 variables:
 $ sid        : int  1 1 1 1 2 2 3 3 3 4 ...
 $ school_year: int  2004 2005 2006 2007 2006 2007 2006 2007 2007 2005 ...
 $ grade_level: int  9 9 10 11 10 11 10 8 9 11 ...
 $ frpl       : Factor w/ 3 levels "F","N","R": 2 2 3 3 1 1 1 1 1 2 ...
\end{verbatim}
\end{kframe}
\end{knitrout}


Uniqueness: ideally, this data set would be unique by sid + school\_year. However, this may not be the case as some students may 
transfer grades mid-year and be reported with two separate grades within one school year.  As they transfer, it is possible that 
their FRPL status might change as well.  To address these circumstances, we explain how to take the raw research file from NOT 
being unique by sid and school\_year to being unique by sid and school\_year.  Once the file is unique by sid and school\_year, it is 
considered clean and ready for use in Task 3.


\subsection{INSTRUCTIONS}
\subsubsection{Examine the Data Set}
Examine your Student\_Characteristics raw research input dataset.  According to the data specification, the file should be 
unique by sid and school\_year.  Examine the snapshot below to determine if it is unique as described.\footnote{ Note that the student with sid of 3 has two 
different values for grade\_level in 2007. The same is true of the student with sid of 5.  Thus, the file is not unique by sid and school\_year.
The goal of the first half of this task is to create a time-invariant frpl binary  variable that captures whether or not the student ever qualified for FRPL. The second half of the task will resolve issues of multiple grade\_level observations within the same sid and school\_year.  This will make the file unique by sid and school\_year.}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{,}{\ }\hlargument{n}{\ }\hlargument{=}{\ }\hlnumber{12}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
   sid school_year grade_level frpl
1    1        2004           9    N
2    1        2005           9    N
3    1        2006          10    R
4    1        2007          11    R
5    2        2006          10    F
6    2        2007          11    F
7    3        2006          10    F
8    3        2007           8    F
9    3        2007           9    F
10   4        2005          11    N
11   4        2006          10    N
12   4        2007           9    N
\end{verbatim}
\end{kframe}
\end{knitrout}


\subsubsection{Recode the Raw FRPL as Binary}
Recode the raw frpl variable as binary. Frpl is currently coded as a string variable with separate designations for ``reduced 
lunch'' and ``free lunch.''  Replace the string values with numeric values, combining the two designations into one, as shown 
below. This binary frpl variable will be useful to define a student as having ever been FRPL.

\begin{description}
\setlength{\parskip}{-6pt}
\item [0=] "N"
\item [1=] "R"
\item [1=] "F" (Do not distinguish between free and reduced price lunch)
\end{description}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{frpl\usebox{\hlnormalsizeboxunderscore}num}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{0}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }create{\ }new{\ }variable}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{frpl\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{[}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{frpl}{\ }=={\ }\hlstring{"{}R"{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}recode}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{frpl\usebox{\hlnormalsizeboxunderscore}num}\hlkeyword{[}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{frpl}{\ }=={\ }\hlstring{"{}F"{}}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{frpl}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{frpl\usebox{\hlnormalsizeboxunderscore}num}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Replace{\ }frpl{\ }with{\ }new{\ }variable}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{frpl\usebox{\hlnormalsizeboxunderscore}num}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }NULL{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Drop}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{,}{\ }\hlargument{n}{\ }\hlargument{=}{\ }\hlnumber{6}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
  sid school_year grade_level frpl
1   1        2004           9    0
2   1        2005           9    0
3   1        2006          10    1
4   1        2007          11    1
5   2        2006          10    1
6   2        2007          11    1
\end{verbatim}
\end{kframe}
\end{knitrout}


Check:  What does the distribution of the new numeric frpl variable look like?

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{addmargins}\hlkeyword{(}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{frpl}\hlkeyword{)}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}

    0     1   Sum 
14827 41217 56044 
\end{verbatim}
\end{kframe}
\end{knitrout}


\subsubsection{Create a binary indicator}
Create a binary indicator equal to 1 if the student was ever eligible for FRPL, and 0 otherwise. In other words, if the student 
has a frpl value of 1 in any year, create a binary variable equal to 1 in all observations for that student; conversely, if a student 
never appears as being FRPL, the binary variable would be equal to 0 in all observations for that student.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlsymbol{stu}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{ddply}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{,}{\ }\hlfunctioncall{.}\hlkeyword{(}\hlsymbol{sid}\hlkeyword{)}\hlkeyword{,}{\ }\hlsymbol{summarize}\hlkeyword{,}{\ }\hlargument{ever\usebox{\hlnormalsizeboxunderscore}frpl}{\ }\hlargument{=}{\ }\hlfunctioncall{max}\hlkeyword{(}\hlsymbol{frpl}\hlkeyword{)}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Create{\ }variable{\ }by{\ }student}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuyear}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{merge}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{,}{\ }\hlsymbol{stu}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }merge{\ }back}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}
\end{knitrout}


Check: How many students have ever been FRPL?

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{addmargins}\hlkeyword{(}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{stu}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{ever\usebox{\hlnormalsizeboxunderscore}frpl}\hlkeyword{)}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}

    0     1   Sum 
 2801 13090 15891 
\end{verbatim}
\end{kframe}
\end{knitrout}


\subsubsection{Resolve multiple grade-year entries}
Resolve instances in which a student has more than one grade level listed for a given school year.\\

There are a total of 18 occasions in which a student has duplicate schoolyear observations. 


\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{dupes}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{dedupe}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{[}\hlkeyword{,}{\ }\hlnumber{1}\hlkeyword{:}\hlnumber{2}\hlkeyword{]}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Create{\ }indicator{\ }for{\ }all{\ }duplicated{\ }rows}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{dupes}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }count{\ }them,{\ }TRUE{\ }is{\ }a{\ }duplicated{\ }element}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}

FALSE  TRUE 
56008    36 
\end{verbatim}
\end{kframe}
\end{knitrout}


The SDP decision rule is to keep the highest grade\_level when a student has multiple 
grade levels within the same year.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }In{\ }R{\ }it{\ }is{\ }faster{\ }to{\ }subset{\ }out{\ }the{\ }duplicated{\ }elements,{\ }fix{\ }them,{\ }and{\ }merge}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }them{\ }back{\ }in}\hspace*{\fill}\\
\hlstd{}\hlsymbol{dupes}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{subset}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{,}{\ }\hlsymbol{dupes}{\ }=={\ }\hlnumber{TRUE}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlkeyword{for}{\ }\hlkeyword{(}\hlsymbol{i}{\ }\hlkeyword{in}{\ }\hlsymbol{dupes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}\hlkeyword{)}{\ }\hlkeyword{\usebox{\hlnormalsizeboxopenbrace}}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{dupes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}\hlkeyword{[}\hlsymbol{dupes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{max}\hlkeyword{(}\hlsymbol{dupes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}\hlkeyword{[}\hlsymbol{dupes}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}\hlkeyword{]}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlkeyword{\usebox{\hlnormalsizeboxclosebrace}}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuyear}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{rbind}\hlkeyword{(}\hlsymbol{dupes}\hlkeyword{,}{\ }\hlfunctioncall{subset}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{,}{\ }\hlsymbol{dupes}{\ }=={\ }\hlnumber{FALSE}\hlkeyword{)}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuyear}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{stuyear}\hlkeyword{[}\hlfunctioncall{with}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{,}{\ }\hlfunctioncall{order}\hlkeyword{(}\hlfunctioncall{as.numeric}\hlkeyword{(}\hlfunctioncall{row.names}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{)}\hlkeyword{)}\hlkeyword{)}\hlkeyword{)}\hlkeyword{,}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlkeyword{]}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
  sid school_year grade_level frpl ever_frpl dupes
1   1        2004           9    0         1 FALSE
2   1        2005           9    0         1 FALSE
3   1        2006          10    1         1 FALSE
4   1        2007          11    1         1 FALSE
5   2        2006          10    1         1 FALSE
6   2        2007          11    1         1 FALSE
\end{verbatim}
\end{kframe}
\end{knitrout}


\subsubsection{Drop Duplicated Values}
Drop any duplicate observations so the file is unique by student and school\_year-that is, it contains only one observation 
for each student-school\_year combination. We can confidently do that now, because the variables we need to keep are timeinvariant: their values are constant across years for every student.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{dupes}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{duplicated}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{[}\hlkeyword{,}{\ }\hlnumber{1}\hlkeyword{:}\hlnumber{2}\hlkeyword{]}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Create{\ }new{\ }dupe{\ }indicator{\ }for}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }one{\ }duplicate{\ }value}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{table}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{dupes}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}

FALSE  TRUE 
56026    18 
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlsymbol{stuyear}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{subset}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{,}{\ }\hlsymbol{dupes}{\ }=={\ }\hlnumber{FALSE}\hlkeyword{)}{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }drop{\ }all{\ }duplicated{\ }terms}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuyear}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{dupes}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }NULL{\ }{\ }\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Indicator{\ }not{\ }needed}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{stuyear}\hlkeyword{,}{\ }\hlargument{n}{\ }\hlargument{=}{\ }\hlnumber{10}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
   sid school_year grade_level frpl ever_frpl
1    1        2004           9    0         1
2    1        2005           9    0         1
3    1        2006          10    1         1
4    1        2007          11    1         1
5    2        2006          10    1         1
6    2        2007          11    1         1
7    3        2006          10    1         1
8    3        2007           9    1         1
10   4        2005          11    0         0
11   4        2006          10    0         0
\end{verbatim}
\end{kframe}
\end{knitrout}



\subsubsection{Export Data}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Not{\ }run{\ }write.csv(stuyear,file=\usebox{\hlnormalsizeboxsinglequote}data/Student\usebox{\hlnormalsizeboxunderscore}School\usebox{\hlnormalsizeboxunderscore}Year\usebox{\hlnormalsizeboxunderscore}Intermediate.csv\usebox{\hlnormalsizeboxsinglequote}){\ }\usebox{\hlnormalsizeboxhash}}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }CSV{\ }write.dta(stuyear,file=\usebox{\hlnormalsizeboxsinglequote}data/Student\usebox{\hlnormalsizeboxunderscore}School\usebox{\hlnormalsizeboxunderscore}Year\usebox{\hlnormalsizeboxunderscore}Intermediate.dta\usebox{\hlnormalsizeboxsinglequote}){\ }\usebox{\hlnormalsizeboxhash}}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }STATA}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}
\end{knitrout}



\section{Task 3: IDENTIFYING THE NINTH-GRADE COHORT}
\subsection{PURPOSE}
Through \textbf{Task 3}: Identifying the Ninth Grade Cohort, you will identify the school year in which each student first appeared in ninth 
grade using your now cleaned Student_School_Year research file from the last task. This is an essential step in our analyses as it 
allows you to form student cohorts and examine longitudinal college-going outcomes within these cohorts.\\

\noindent The core assignments of this task are to:
\begin{enumerate}
\item Discover all first-time 9th graders. Thsee students form the primary sample for analyses of students' transitioning from 9th to 10th grade.
\item Identify students who transferred to district high schools after 9th grade. Along with the first-time 9th graders, these transfer students form the primary analyses for high school graduation, college enrollment, and college persistence outcomes.
\item Ascertain the year in which students were, or, in the case of transfer students--would have been, in grade 9. THis is the student's assigned ninth grade cohort.
\end{enumerate}

Upon completing this and the previous task, you will be have a clean Student\_School\_Year file that identifies first-time 9th 
graders.  This file can then be used to assemble the analysis file in \textbf{Connect} and complete \textbf{Task 4}, in which you will examine 
school enrollment periods and attribute a first and last high school to each student.

\subsection{HOW TO START}

To begin, open the provided Student\_School\_Year\_Intermediate practice file in Stata.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlsymbol{stuschyearI}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{read.csv}\hlkeyword{(}\hlstring{"{}data/Student\usebox{\hlnormalsizeboxunderscore}School\usebox{\hlnormalsizeboxunderscore}Year\usebox{\hlnormalsizeboxunderscore}Intermediate.csv"{}}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}
\end{knitrout}


This practice file contains data detailing student grade level progression from school years 2000-01 to 2006-07. The file is unique by student 
and school yearâ€”that is, it contains only one observation per student per schoolyear. It is the same as the output from Task 2.\\

If this is your first time going through the task, we recommend starting with the practice file, rather than your agencyâ€™s own 
data file.  Doing so will help you learn SDPâ€™s cleaning methodology and allow you to easily check your answers from a common 
dataset.  You may then apply these methods to your agencyâ€™s own Student\_School\_Year data with confidence.  To learn more 
about the data you will need to collect in your agency, refer to \textbf{Identify}: Data Specification Guide and the \textbf{DATA DESCRIPTION}
section of this document.

In addition to the practice file, you may also find it useful to complete the data snapshot exercises provided in the task.  These 
exercises will allow you to visualize changes to the data occurring in each step of the task.  Solutions for the exercises are 
provided at the end of the task. 

\subsection{DATA DESCRIPTION}
The main purpose of this task is to define the ninth grade cohort.  To do so, we only need three variables, \textbf{sid}, \textbf{school\_year}, and 
\textbf{grade\_level} and a file that is unique by \textbf{sid} and \textbf{school\_year}.  Other variables such as \textbf{frpl}, \textbf{iep}, or \textbf{gifted} remain in the cleaned 
Student\_School\_Year file but do not play a role in identifying the ninth grade cohort.  The relevant variables and definitions you 
will need to complete the task are illustrated below:

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{str}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
'data.frame':	56026 obs. of  4 variables:
 $ sid        : int  1 1 1 1 2 2 3 3 4 4 ...
 $ school_year: int  2004 2005 2006 2007 2006 2007 2006 2007 2005 2006 ...
 $ grade_level: int  9 9 10 11 10 11 10 9 11 10 ...
 $ ever_frpl  : int  1 1 1 1 1 1 1 1 0 0 ...
\end{verbatim}
\end{kframe}
\end{knitrout}


Uniqueness: This dataset has been cleaned in Task 2 and is now unique by sid and school\_year, as per the Data Specification. 
The file will remain unique by sid and school\_year for the remainder of the task. The primary result of this task is the creation of 
the first9thschoolyear\_observed variable.

\section{INSTRUCTIONS}

\textbf{1.Examine your Student\_School\_Year\_Intermediate research file input dataset.  Make sure that it is unique by sid and school\_year.}\footnote{Note that there are no duplicate combinations of sid and school\_year.  The file is unique by sid and school\_year. There are, however, duplicate grade levels for the same sid in successive school years. This does not pose a problem as it indicates a repeated grade}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{[}\hlkeyword{,}{\ }\hlnumber{1}\hlkeyword{:}\hlnumber{3}\hlkeyword{]}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
  sid school_year grade_level
1   1        2004           9
2   1        2005           9
3   1        2006          10
4   1        2007          11
5   2        2006          10
6   2        2007          11
\end{verbatim}
\end{kframe}
\end{knitrout}


\textbf{2. Create four binary indicators flagging the first school year a student enrolls in grades 9, 10, 11, or 12.} Name these 
variables first9\_flag, first10\_flag, first11\_flag, and first12\_flag. These variables will have a value of 1 only in the school year 
in which the student was in the respective grade.  Also create variables populated with this binary indicator across all school 
years for a given student. Name these variables  observed\_9, observed\_10, observed\_11, and observed\_12.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }To{\ }do{\ }this{\ }the{\ }Stata{\ }way{\ }In{\ }R{\ }we{\ }may{\ }want{\ }to{\ }just{\ }use{\ }factors{\ }in{\ }R}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}9}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{0}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}9}\hlkeyword{[}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade}{\ }=={\ }\hlnumber{9}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}10}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{0}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}10}\hlkeyword{[}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade}{\ }=={\ }\hlnumber{10}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}11}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{0}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}11}\hlkeyword{[}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade}{\ }=={\ }\hlnumber{11}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}12}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{0}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}12}\hlkeyword{[}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade}{\ }=={\ }\hlnumber{12}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{first9\usebox{\hlnormalsizeboxunderscore}flag}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{NA}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{first10\usebox{\hlnormalsizeboxunderscore}flag}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{NA}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{first11\usebox{\hlnormalsizeboxunderscore}flag}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{NA}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{first12\usebox{\hlnormalsizeboxunderscore}flag}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{NA}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlsymbol{z}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}\hlkeyword{[}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlnumber{6}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }==\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlnumber{9}\hlkeyword{]}\hlkeyword{[}\hlnumber{1}\hlkeyword{]}\hspace*{\fill}\\
\hlstd{}\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Make{\ }sure{\ }data{\ }is{\ }sorted{\ }on{\ }student,{\ }school{\ }year,{\ }grade}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlsymbol{test}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{subset}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{,}{\ }\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }\hlkeyword{\usebox{\hlnormalsizeboxgreaterthan}}{\ }\hlnumber{8}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlkeyword{for}{\ }\hlkeyword{(}\hlsymbol{i}{\ }\hlkeyword{in}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}\hlkeyword{)}{\ }\hlkeyword{\usebox{\hlnormalsizeboxopenbrace}}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{z}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}\hlkeyword{[}\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }=={\ }\hlnumber{9}\hlkeyword{]}\hlkeyword{[}\hlnumber{1}\hlkeyword{]}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{first9\usebox{\hlnormalsizeboxunderscore}flag}\hlkeyword{[}\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }=={\ }\hlnumber{9}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}{\ }==\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }{\ }{\ }{\ }{\ }\hlsymbol{z}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{z}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}\hlkeyword{[}\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }=={\ }\hlnumber{10}\hlkeyword{]}\hlkeyword{[}\hlnumber{1}\hlkeyword{]}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{first10\usebox{\hlnormalsizeboxunderscore}flag}\hlkeyword{[}\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }=={\ }\hlnumber{10}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}{\ }==\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }{\ }{\ }{\ }{\ }\hlsymbol{z}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{z}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}\hlkeyword{[}\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }=={\ }\hlnumber{11}\hlkeyword{]}\hlkeyword{[}\hlnumber{1}\hlkeyword{]}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{first11\usebox{\hlnormalsizeboxunderscore}flag}\hlkeyword{[}\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }=={\ }\hlnumber{11}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}{\ }==\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }{\ }{\ }{\ }{\ }\hlsymbol{z}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{z}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}\hlkeyword{[}\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }=={\ }\hlnumber{12}\hlkeyword{]}\hlkeyword{[}\hlnumber{1}\hlkeyword{]}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{first12\usebox{\hlnormalsizeboxunderscore}flag}\hlkeyword{[}\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}{\ }=={\ }\hlsymbol{i}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }=={\ }\hlnumber{12}{\ }\hlkeyword{\usebox{\hlnormalsizeboxand}}{\ }\hlsymbol{test}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}{\ }==\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }{\ }{\ }{\ }{\ }\hlsymbol{z}\hlkeyword{]}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlnumber{1}\hspace*{\fill}\\
\hlstd{}\hlkeyword{\usebox{\hlnormalsizeboxclosebrace}}\hspace*{\fill}\\
\hlstd{}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{rbind}\hlkeyword{(}\hlsymbol{test}\hlkeyword{,}{\ }\hlfunctioncall{subset}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{,}{\ }\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }\usebox{\hlnormalsizeboxlessthan}={\ }\hlnumber{8}\hlkeyword{)}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlsymbol{stuschyearI}\hlkeyword{[}\hlfunctioncall{order}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}\hlkeyword{,}{\ }\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}\hlkeyword{)}\hlkeyword{,}\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlkeyword{]}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{rm}\hlkeyword{(}\hlsymbol{test}\hlkeyword{,}{\ }\hlsymbol{i}\hlkeyword{,}{\ }\hlsymbol{z}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\end{kframe}
\end{knitrout}


\textbf{Check:} How many students are identified as enrolled in high school grades 9, 10, 11, or 12?

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Just{\ }test{\ }some{\ }conditionals{\ }Want{\ }to{\ }write{\ }a{\ }pretty{\ }function{\ }for{\ }this{\ }soon}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{length}\hlkeyword{(}\hlfunctioncall{unique}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}\hlkeyword{[}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}9}{\ }=={\ }\hlnumber{1}\hlkeyword{]}\hlkeyword{)}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
[1] 5993
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{length}\hlkeyword{(}\hlfunctioncall{unique}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}\hlkeyword{[}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}10}{\ }=={\ }\hlnumber{1}\hlkeyword{]}\hlkeyword{)}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
[1] 5402
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{length}\hlkeyword{(}\hlfunctioncall{unique}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}\hlkeyword{[}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}11}{\ }=={\ }\hlnumber{1}\hlkeyword{]}\hlkeyword{)}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
[1] 4592
\end{verbatim}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{length}\hlkeyword{(}\hlfunctioncall{unique}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{sid}\hlkeyword{[}\hlsymbol{stuschyearI}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{observed\usebox{\hlnormalsizeboxunderscore}grade\usebox{\hlnormalsizeboxunderscore}12}{\ }=={\ }\hlnumber{1}\hlkeyword{]}\hlkeyword{)}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
[1] 3706
\end{verbatim}
\end{kframe}
\end{knitrout}


\subsection{Create a variable listing the firs tyear in which a student is observed as enrolled in grade 9.}
Name this variable first9thschoolyear\_observed. The variable will have missing values for students who transferred into the district in 
grades 10-12.
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlcomment{\usebox{\hlnormalsizeboxhash}{\ }Here{\ }in{\ }R{\ }we{\ }use{\ }the{\ }split-apply{\ }approach{\ }again}\hspace*{\fill}\\
\hlstd{}\hlsymbol{df}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{ddply}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{,}{\ }\hlfunctioncall{.}\hlkeyword{(}\hlsymbol{sid}\hlkeyword{)}\hlkeyword{,}{\ }\hlsymbol{summarize}\hlkeyword{,}{\ }\hlargument{first9thschoolyear\usebox{\hlnormalsizeboxunderscore}observed}{\ }\hlargument{=}{\ }\hlsymbol{school\usebox{\hlnormalsizeboxunderscore}year}\hlkeyword{[}\hlsymbol{grade\usebox{\hlnormalsizeboxunderscore}level}{\ }==\hspace*{\fill}\\
\hlstd{}{\ }{\ }{\ }{\ }\hlnumber{9}\hlkeyword{]}\hlkeyword{[}\hlnumber{1}\hlkeyword{]}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlsymbol{stuschyearI}{\ }\hlassignement{\usebox{\hlnormalsizeboxlessthan}-}{\ }\hlfunctioncall{merge}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{,}{\ }\hlsymbol{df}\hlkeyword{)}\hspace*{\fill}\\
\hlstd{}\hlfunctioncall{head}\hlkeyword{(}\hlsymbol{stuschyearI}\hlkeyword{[}\hlkeyword{,}{\ }\hlfunctioncall{c}\hlkeyword{(}\hlnumber{1}\hlkeyword{,}{\ }\hlnumber{2}\hlkeyword{,}{\ }\hlnumber{3}\hlkeyword{,}{\ }\hlnumber{5}\hlkeyword{:}\hlnumber{13}\hlkeyword{)}\hlkeyword{]}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
  sid school_year grade_level observed_grade_9 observed_grade_10
1   1        2004           9                1                 0
2   1        2005           9                1                 0
3   1        2006          10                0                 1
4   1        2007          11                0                 0
5   2        2006          10                0                 1
6   2        2007          11                0                 0
  observed_grade_11 observed_grade_12 first9_flag first10_flag first11_flag
1                 0                 0           1           NA           NA
2                 0                 0          NA           NA           NA
3                 0                 0          NA            1           NA
4                 1                 0          NA           NA            1
5                 0                 0          NA            1           NA
6                 1                 0          NA           NA            1
  first12_flag first9thschoolyear_observed
1           NA                        2004
2           NA                        2004
3           NA                        2004
4           NA                        2004
5           NA                          NA
6           NA                          NA
\end{verbatim}
\end{kframe}
\end{knitrout}


\textbf{Check:} What is the distribution of first9thschoolyear\_observed across years?

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{flushleft}
\ttfamily\noindent
\hlfunctioncall{summary}\hlkeyword{(}\hlfunctioncall{as.factor}\hlkeyword{(}\hlsymbol{df}\hlkeyword{\usebox{\hlnormalsizeboxdollar}}\hlsymbol{first9thschoolyear\usebox{\hlnormalsizeboxunderscore}observed}\hlkeyword{)}\hlkeyword{)}\mbox{}
\normalfont
\end{flushleft}
\begin{verbatim}
2001 2002 2003 2004 2005 2006 2007 NA's 
 963  958  814  841  851  808  758 9898 
\end{verbatim}
\end{kframe}
\end{knitrout}




\end{document}


